Delivery Service Application



Описание


Консольное приложение для службы доставки, которое фильтрует заказы в зависимости от района города и времени доставки. Приложение выводит заказы, которые попадают в выбранный район в ближайшие 30 минут после первого заказа.

Требования


    •	.NET 6.0 или выше (в проекте используется .NET 8.0)

    •	Visual Studio 2022 (или любая другая IDE с поддержкой .NET)

    •	xUnit для тестирования (уже включен в проект)

    •	Серилог для логирования (уже добавлен в проект)

Установка


    1.	Клонируйте проект из репозитория или скачайте архив с исходным кодом.

    2.	Откройте проект в Visual Studio (или другой поддерживаемой IDE).
	
    3.	Убедитесь, что у вас установлен .NET 8.0 SDK. Если нет, установите его с официального сайта.
	
    4.	Проверьте и восстановите все зависимости проекта:
   В Visual Studio: откройте Package Manager Console и выполните команду:

        dotnet restore

Запуск приложения


1. Через Visual Studio:

   
        1.	Откройте файл DeliveryService.sln в Visual Studio.
   
        2.	В разделе Solution Explorer найдите проект DeliveryService.

        3.	Перейдите в меню Project -> Properties и выберите вкладку Debug.
	
        4.	В разделе Application Arguments укажите параметры:

 
          o	_cityDistrict — район доставки.

          o	_firstDeliveryDateTime — время первой доставки в формате yyyy-MM-dd HH:mm:ss (обязательно заключите в кавычки).

          o	_deliveryLog — путь к файлу с логами.
  
          o	_deliveryOrder — путь для сохранения отфильтрованных заказов.

Пример аргументов:

          _cityDistrict=Downtown _firstDeliveryDateTime="2024-10-25 14:30:00" _deliveryLog=log.txt _deliveryOrder=filtered_orders.csv


    5.	Нажмите Ctrl+F5 для запуска приложения без отладки.

  
2. Через командную строку:
  
        1.	Откройте командную строку в каталоге проекта (где находится файл .csproj).
   
        2.	Выполните команду для запуска с нужными параметрами:
  	
            dotnet run --project DeliveryService -- _cityDistrict=Downtown _firstDeliveryDateTime="2024-10-25 14:30:00" _deliveryLog=log.txt _deliveryOrder=filtered_orders.csv

Логирование


    •	Приложение создает файл лога, указанный в аргументе _deliveryLog. В этом файле ведется журнал всех основных операций, включая успешные и ошибочные сценарии работы программы.

Валидация


    •	Приложение валидирует корректность переданных параметров. Например, если время доставки указано неверно, программа запишет ошибку в лог и завершит выполнение.

Тестирование


  Приложение покрыто тестами с использованием xUnit. Тесты проверяют:

    •	Корректность фильтрации заказов по времени и району.

    •	Валидацию параметров.

    •	Логирование.

Запуск тестов:

    1.	Откройте проект DeliveryService.sln в Visual Studio.
   
    2.	Перейдите в Test Explorer (если не отображается, можно открыть через меню Test -> Test Explorer).
  
    3.	Нажмите Run All для запуска всех тестов.

Или через командную строку:

    dotnet test

Структура проекта

      •	Program.cs — вся основная логика приложения, включая обработку данных, чтение CSV-файла, фильтрацию заказов, логирование и валидацию параметров. Весь код размещен в этом модуле.

      •	DeliveryService.Tests — проект с тестами.


          o	OrderFilterTests.cs — тесты для фильтрации заказов.
  
          o	CsvReaderTests.cs — тесты для работы с CSV.

          o	ParameterValidationTests.cs — тесты для валидации параметров.

Пример входных данных

Все входные данные (заказы) должны быть в формате CSV и содержать следующие поля:

    OrderId, Weight, District, DeliveryTime

Пример содержимого файла orders.csv:

      1,10.5,Downtown,2024-10-25 14:30:00

      2,12.0,Downtown,2024-10-25 14:50:00

      3,8.0,Uptown,2024-10-25 16:00:00

      4,5.5,Downtown,2024-10-25 14:40:00



Часто задаваемые вопросы (FAQ)


Вопрос: Что делать, если программа не находит заказы для фильтрации?

Ответ: Убедитесь, что время первой доставки и район указаны корректно. Программа ищет заказы в выбранном районе, которые будут доставлены в течение 30 минут после указанного времени.

Вопрос: Как проверить логи?

Ответ: Логи пишутся в файл, указанный в аргументе _deliveryLog. В этом файле можно найти все основные операции и сообщения об ошибках.




